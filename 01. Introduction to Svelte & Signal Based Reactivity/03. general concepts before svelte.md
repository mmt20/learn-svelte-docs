# General Concepts Before Svelte

Understanding these core programming concepts will make learning Svelte (and modern web development) much easier.

## 1. Pure Function

A function that **always returns the same output given a specific input** and does not produce any side effects (like mutating global variables, making API requests, or modifying the DOM).

### Example
```javascript
// Input (2, 2) -> SUM -> Output (4)
function sum(a, b) {
  return a + b;
}
```

*   **Predictable:** You always know what you'll get.
*   **Testable:** Easy to unit test.
*   **Cacheable:** Since the result implies the input, it can be memoized.

## 2. Memoization

Memoization is the practice of **caching function results** given a certain input to avoid re-running the function again.

This can be very useful, especially for **computationally heavy functions** that we might need to call frequently but often with the same arguments.

### Conceptual Example
If you ask "What is 234 * 456?" and I calculate it, I can write the answer down. If you ask me again 5 minutes later, I don't need to do the math again; I just look at the note.

```javascript
const cache = {};

function heavyMath(x) {
  if (x in cache) return cache[x]; // Return cached result
  
  console.log('Calculating...');
  const result = x * x; // Imagine this is expensive
  cache[x] = result;       // Store result
  return result;
}
```

## 3. Microtask Queue

In JavaScript, the Event Loop handles asynchronous operations. Tasks are divided into **Macrotasks** (like `setTimeout`, `setInterval`) and **Microtasks** (like `Promise.then`, `queueMicrotask`).

The **Microtask Queue** has higher priority than the Macrotask Queue. The browser will process **all** microtasks before moving on to the next macrotask or rendering updates.

### Why it matters for Svelte
Svelte uses microtasks to batch state updates. If you change a generic state multiple times in a row, Svelte schedules a microtask to update the DOM *once* after all your code has finished running, preventing unnecessary work and layout thrashing.
@